"use strict";(self.webpackChunkreact_travelpa_admin=self.webpackChunkreact_travelpa_admin||[]).push([[2879],{57923:function(e,n,r){r.d(n,{Qy:function(){return f},Qz:function(){return m},RZ:function(){return p},T4:function(){return v},Tf:function(){return o},Ud:function(){return a},Y_:function(){return h},bD:function(){return C},cn:function(){return d},fC:function(){return u},ic:function(){return s},sd:function(){return c},zH:function(){return l}});var t=r(71653),i=r.n(t),o=function(e){return{type:i().SET_INSURANCE_DETAILS,payload:e}},a=function(e){return{type:i().SET_SELECTED_INSURANCE,payload:e}},u=function(e){return{type:i().SET_INSURANCE_RATE_DETAILS,payload:e}},c=function(e){return{type:i().SET_WATCH_INSURANCE_COVERAGE,payload:e}},s=function(e){return{type:i().SET_IS_SPOUSE,payload:e}},l=function(e){return{type:i().SET_ERROR_CODE_CONFIRM_DATA,payload:e}},d=function(e){return{type:i().SET_CODE_CONFIRM_SUCCESS,payload:e}},f=function(e){return{type:i().SET_ERROR_NEW_CODE_CONFIRM_DATA,payload:e}},m=function(e){return{type:i().SET_NEW_CODE_CONFIRM_SUCCESS,payload:e}},C=function(e){return{type:i().SET_NEW_CODE_SENT_SUCCESS,payload:e}},v=function(e){return{type:i().SET_CODE_SENT_SUCCESS,payload:e}},h=function(e){return{type:i().SET_ERROR_CODE_SENT_DATA,payload:e}},p=function(e){return{type:i().SET_RESEND_EMAIL_VERIFICATION,payload:e}}},30408:function(e,n,r){var t=r(1413),i=r(45987),o=(r(72791),r(47630)),a=r(48550),u=r(61134),c=r(77201),s=r(80184),l=["control","name","label","defaultValue","number","onBlur","leadingZeros"],d=(0,o.ZP)((function(e){var n=e.control,r=e.name,o=e.label,d=e.defaultValue,f=e.number,m=e.onBlur,C=e.leadingZeros,v=(0,i.Z)(e,l);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u.Qr,{control:n,name:r,defaultValue:d||"",render:function(e){var n=e.field,r=n.onChange,i=n.value,u=e.fieldState,l=u.invalid,d=u.error;return(0,s.jsx)(a.Z,(0,t.Z)({required:!0,fullWidth:!0,label:o,size:"small",onChange:r,onBlur:m,value:i,error:l,helperText:(null===d||void 0===d?void 0:d.message)||" ",autoComplete:"no",InputLabelProps:{style:{color:"#CCCCCC"}},InputProps:{autoComplete:"off",form:{autocomplete:"off"},inputComponent:f?C?c.sm:c.eO:null},FormHelperTextProps:{className:"mt-0"}},v))}})})}))((function(e){e.theme;return{".MuiInputLabel-root.Mui-error":{color:"rgb(239, 83, 80) !important"},".MuiInputLabel-shrink.Mui-focused.Mui-error":{color:"rgb(239, 83, 80) !important"},".MuiInputLabel-shrink.Mui-focused":{color:"#009C99 !important"},".MuiOutlinedInput-notchedOutline":{transition:"0.3s",legend:{float:"unset",overflow:"hidden",display:"block",width:"auto",padding:0,height:"11px",fontSize:"0.75em",visibility:"hidden",transition:"max-width 100ms cubic-bezier(0.0, 0, 0.2, 1) 50ms",whiteSpace:"nowrap"}}}}));n.Z=d},22879:function(e,n,r){r.r(n),r.d(n,{ChangeEmail:function(){return Z},default:function(){return j}});var t=r(29439),i=r(72791),o=r(60364),a=r(64554),u=r(57621),c=r(39504),s=r(20890),l=r(61134),d=r(61265),f=r(16871),m=r(36151),C=r(61889),v=r(62797),h=v.Ry().shape({verifyCode:v.Z_().required("Field is required.")}).required(),p=v.Ry().shape({newEmail:v.Z_().required("Field is required."),confirmationCode:v.Z_()}).required(),E=r(30408),y=r(50611),g=r(57923),S=r(80184),x={doConfirmCurrentEmailVerificationCode:y.Bz,doSendCurrentEmailVerificationCode:y.YC,setErrorCodeConfirmData:g.zH,setCodeConfirmSuccess:g.cn},N=(0,o.$j)((function(e){return{loggedInUser:e.core.loggedInUser,errorCodeConfirmData:e.userProfile.errorCodeConfirmData,codeConfirmSuccess:e.userProfile.codeConfirmSuccess}}),x)((function(e){var n,r=e.setCodeConfirmSuccess,t=e.setErrorCodeConfirmData,o=e.doConfirmCurrentEmailVerificationCode,u=e.doSendCurrentEmailVerificationCode,c=e.setIsVerifiedEmail,v=e.loggedInUser,p=e.errorCodeConfirmData,y=e.codeConfirmSuccess,g=(0,f.s0)(),x=(0,l.cI)({defaultValues:{verifyCode:""},resolver:(0,d.X)(h),mode:"all"}),N=x.control,b=x.handleSubmit,_=(x.trigger,x.getValues),Z=(x.setValue,x.setError),j=x.reset;(0,i.useEffect)((function(){j()}),[]),(0,i.useEffect)((function(){y&&c(!0)}),[y]),(0,i.useEffect)((function(){p&&Z("verifyCode",{type:"custom",message:p})}),[p]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(a.Z,{sx:{p:2,border:"1px solid rgb(42, 74, 75)",borderRadius:"4px"},className:"mb-5",children:[(0,S.jsxs)(s.Z,{variant:"subtitle1",component:"div",color:"text.secondary",className:"mb-2",children:["A verification code was sent to"," ",(0,S.jsx)(s.Z,{variant:"body1",component:"span",children:(0,S.jsx)("b",{children:null===v||void 0===v||null===(n=v.customer)||void 0===n?void 0:n.email})})]}),(0,S.jsx)(s.Z,{variant:"caption",color:"text.secondary",component:"div",className:"mb-2 lh-sm",children:"Enter the account verification code you received. (It could take up to 5 minutes for an account verification code to be delivered.)"}),(0,S.jsx)(C.ZP,{container:!0,columns:{xs:1,lg:12},children:(0,S.jsx)(C.ZP,{item:!0,xs:1,lg:3,className:"pt-0 mb-3",children:(0,S.jsx)(E.Z,{control:N,name:"verifyCode",label:"Verification Code"})})}),(0,S.jsx)(m.Z,{disableElevation:!0,variant:"contained",onClick:b((function(){t(null),r(null);var e=_("verifyCode");o({verify_code:e})})),children:"Continue"})]}),(0,S.jsx)(s.Z,{variant:"subtitle2",className:"mb-2",children:"Having trouble receiving an account verification code?"}),(0,S.jsxs)(a.Z,{className:"d-flex justify-content-between",children:[(0,S.jsx)(m.Z,{disableElevation:!0,variant:"contained",onClick:function(){u()},children:"Resend account verification code"}),(0,S.jsx)(m.Z,{disableElevation:!0,variant:"outlined",onClick:function(){g("/dashboard/my-profile")},children:"Cancel"})]})]})})),b={doSendNewEmailVerificationCode:y.d7,setErrorNewCodeConfirmData:g.Qy,doConfirmNewEmailVerificationCode:y.r3,doGetLoggedInUser:y.Bq,setNewCodeConfirmSuccess:g.Qz,setNewCodeSentSuccess:g.bD},_=(0,o.$j)((function(e){return{loggedInUser:e.core.loggedInUser,newCodeSentSuccess:e.userProfile.newCodeSentSuccess,newCodeConfirmSuccess:e.userProfile.newCodeConfirmSuccess,errorNewCodeSentData:e.userProfile.errorNewCodeSentData,errorNewCodeConfirmData:e.userProfile.errorNewCodeConfirmData}}),b)((function(e){var n,r=e.setNewCodeSentSuccess,t=e.setNewCodeConfirmSuccess,o=e.setErrorNewCodeConfirmData,u=e.doSendNewEmailVerificationCode,c=e.doConfirmNewEmailVerificationCode,v=e.doGetLoggedInUser,h=e.loggedInUser,y=e.newCodeSentSuccess,g=e.newCodeConfirmSuccess,x=e.errorNewCodeSentData,N=e.errorNewCodeConfirmData,b=(0,f.s0)(),_=(0,l.cI)({resolver:(0,d.X)(p),mode:"all"}),Z=_.control,j=_.handleSubmit,w=(_.trigger,_.getValues),I=(_.setValue,_.setError);_.resetField;(0,i.useEffect)((function(){}),[g]),(0,i.useEffect)((function(){x&&I("newEmail",{type:"custom",message:x})}),[x]),(0,i.useEffect)((function(){N&&I("confirmationCode",{type:"custom",message:N})}),[N]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(a.Z,{className:"mb-5",children:[!g&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(s.Z,{variant:"body2",component:"div",className:"mb-2",children:["Current Email Address "," : "," ",(0,S.jsx)("b",{children:null===h||void 0===h||null===(n=h.customer)||void 0===n?void 0:n.email})]}),(0,S.jsx)(C.ZP,{container:!0,columns:{xs:1,lg:12},children:(0,S.jsx)(C.ZP,{item:!0,xs:1,lg:3,className:"pt-0",children:(0,S.jsx)(E.Z,{control:Z,name:"newEmail",label:"New Email Address",disabled:y})})})]}),y&&!g&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{variant:"caption",component:"div",className:"mb-2",children:"Enter the code we sent to vour new email address"}),(0,S.jsx)(C.ZP,{container:!0,columns:{xs:1,lg:12},children:(0,S.jsx)(C.ZP,{item:!0,xs:1,lg:3,className:"pt-0",children:(0,S.jsx)(E.Z,{control:Z,name:"confirmationCode",label:"Confirmation Code"})})})]}),!y&&(0,S.jsx)(m.Z,{disableElevation:!0,variant:"contained",onClick:j((function(){o(null);var e=w("newEmail");u({new_email:e})})),className:"mt-3",children:"Change Email"}),y&&!g&&(0,S.jsx)(m.Z,{disableElevation:!0,variant:"contained",onClick:function(){var e=w("newEmail"),n=w("confirmationCode");c({verify_code:n,new_email:e})},className:"mt-3",children:"Confirm Change Email"}),g&&(0,S.jsxs)(a.Z,{children:[(0,S.jsx)(s.Z,{variant:"subtitle1",component:"div",children:"Your email address has been updated"}),(0,S.jsx)(s.Z,{variant:"caption",component:"div",color:"text.secondary",children:"Please login with your email address"}),(0,S.jsx)(m.Z,{disableElevation:!0,variant:"contained",className:"mt-3",onClick:function(){r(!1),t(!1),v(),b("/dashboard/my-profile")},children:"Continue"})]})]})})})),Z=function(){var e=(0,i.useState)(!1),n=(0,t.Z)(e,2),r=n[0],o=n[1];return(0,i.useEffect)((function(){o(!1)}),[]),(0,S.jsx)(a.Z,{children:(0,S.jsx)(u.Z,{variant:"outlined",children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(s.Z,{variant:"h6",className:"mb-3",children:"Change Email"}),!r&&(0,S.jsx)(N,{setIsVerifiedEmail:o}),r&&(0,S.jsx)(_,{})]})})})},j=(0,o.$j)((function(e){return{}}),{})(Z)},77201:function(e,n,r){r.d(n,{Du:function(){return C},Jz:function(){return h},Ny:function(){return m},eO:function(){return f},hu:function(){return v},sm:function(){return d}});var t=r(1413),i=r(45987),o=r(72791),a=r(30948),u=r(24805),c=r(80184),s=["onChange","name"],l=["onChange","name"],d=o.forwardRef((function(e,n){var r=e.onChange,o=e.name,u=(0,i.Z)(e,s);return(0,c.jsx)(a.Z,(0,t.Z)((0,t.Z)({},u),{},{allowLeadingZeros:!0,allowNegative:!1,decimalSeparator:!1,getInputRef:n,onValueChange:function(e){r({target:{name:o,value:e.value}})}}))})),f=o.forwardRef((function(e,n){var r=e.onChange,o=e.name,u=(0,i.Z)(e,l);return(0,c.jsx)(a.Z,(0,t.Z)((0,t.Z)({},u),{},{allowNegative:!1,getInputRef:n,onValueChange:function(e){r({target:{name:o,value:e.value}})}}))})),m=function(e){var n=e.children;return(0,u.useMediaQuery)({minWidth:992})?n:null},C=function(e){var n=e.children;return(0,u.useMediaQuery)({minWidth:768,maxWidth:991})?n:null},v=function(e){var n=e.children,r=(0,u.useMediaQuery)({maxWidth:767}),t=(0,u.useMediaQuery)({query:"(orientation: portrait)"});return r&&t?n:null},h=function(e){var n=e.children,r=(0,u.useMediaQuery)({maxWidth:767}),t=(0,u.useMediaQuery)({query:"(orientation: landscape)"});return r&&t?n:null}},61265:function(e,n,r){r.d(n,{X:function(){return u}});var t=r(61134),i=function(e,n,r){if(e&&"reportValidity"in e){var i=(0,t.U2)(r,n);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},o=function(e,n){var r=function(r){var t=n.fields[r];t&&t.ref&&"reportValidity"in t.ref?i(t.ref,r,e):t.refs&&t.refs.forEach((function(n){return i(n,r,e)}))};for(var t in n.fields)r(t)},a=function(e,n){n.shouldUseNativeValidation&&o(e,n);var r={};for(var i in e){var a=(0,t.U2)(n.fields,i);(0,t.t8)(r,i,Object.assign(e[i],{ref:a&&a.ref}))}return r},u=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),function(u,c,s){try{return Promise.resolve(function(t,a){try{var l=(n.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](u,Object.assign({abortEarly:!1},n,{context:c}))).then((function(e){return s.shouldUseNativeValidation&&o({},s),{values:e,errors:{}}})))}catch(i){return a(i)}return l&&l.then?l.then(void 0,a):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:a((n=e,r=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(n.inner||[]).reduce((function(e,n){if(e[n.path]||(e[n.path]={message:n.message,type:n.type}),r){var i=e[n.path].types,o=i&&i[n.type];e[n.path]=(0,t.KN)(n.path,r,e,n.type,o?[].concat(o,n.message):n.message)}return e}),{})),s)};var n,r})))}catch(i){return Promise.reject(i)}}}}}]);
//# sourceMappingURL=2879.8d4703b1.chunk.js.map