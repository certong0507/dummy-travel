"use strict";(self.webpackChunkreact_travelpa_admin=self.webpackChunkreact_travelpa_admin||[]).push([[9361],{57923:function(e,n,t){t.d(n,{Qy:function(){return m},Qz:function(){return f},RZ:function(){return j},T4:function(){return h},Tf:function(){return a},Ud:function(){return l},Y_:function(){return p},bD:function(){return x},cn:function(){return u},fC:function(){return s},ic:function(){return c},sd:function(){return o},zH:function(){return d}});var i=t(71653),r=t.n(i),a=function(e){return{type:r().SET_INSURANCE_DETAILS,payload:e}},l=function(e){return{type:r().SET_SELECTED_INSURANCE,payload:e}},s=function(e){return{type:r().SET_INSURANCE_RATE_DETAILS,payload:e}},o=function(e){return{type:r().SET_WATCH_INSURANCE_COVERAGE,payload:e}},c=function(e){return{type:r().SET_IS_SPOUSE,payload:e}},d=function(e){return{type:r().SET_ERROR_CODE_CONFIRM_DATA,payload:e}},u=function(e){return{type:r().SET_CODE_CONFIRM_SUCCESS,payload:e}},m=function(e){return{type:r().SET_ERROR_NEW_CODE_CONFIRM_DATA,payload:e}},f=function(e){return{type:r().SET_NEW_CODE_CONFIRM_SUCCESS,payload:e}},x=function(e){return{type:r().SET_NEW_CODE_SENT_SUCCESS,payload:e}},h=function(e){return{type:r().SET_CODE_SENT_SUCCESS,payload:e}},p=function(e){return{type:r().SET_ERROR_CODE_SENT_DATA,payload:e}},j=function(e){return{type:r().SET_RESEND_EMAIL_VERIFICATION,payload:e}}},30408:function(e,n,t){var i=t(1413),r=t(45987),a=(t(72791),t(47630)),l=t(48550),s=t(61134),o=t(77201),c=t(80184),d=["control","name","label","defaultValue","number","onBlur","leadingZeros"],u=(0,a.ZP)((function(e){var n=e.control,t=e.name,a=e.label,u=e.defaultValue,m=e.number,f=e.onBlur,x=e.leadingZeros,h=(0,r.Z)(e,d);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.Qr,{control:n,name:t,defaultValue:u||"",render:function(e){var n=e.field,t=n.onChange,r=n.value,s=e.fieldState,d=s.invalid,u=s.error;return(0,c.jsx)(l.Z,(0,i.Z)({required:!0,fullWidth:!0,label:a,size:"small",onChange:t,onBlur:f,value:r,error:d,helperText:(null===u||void 0===u?void 0:u.message)||" ",InputLabelProps:{style:{color:"#CCCCCC"}},InputProps:{autoComplete:"off",form:{autocomplete:"off"},inputComponent:m?x?o.sm:o.eO:null},FormHelperTextProps:{className:"mt-0"},multiline:!0},h))}})})}))((function(e){e.theme;return{".MuiInputLabel-root.Mui-error":{color:"rgb(239, 83, 80) !important"},".MuiInputLabel-shrink.Mui-focused.Mui-error":{color:"rgb(239, 83, 80) !important"},".MuiInputLabel-shrink.Mui-focused":{color:"#009C99 !important"},".MuiOutlinedInput-notchedOutline":{transition:"0.3s",legend:{float:"unset",overflow:"hidden",display:"block",width:"auto",padding:0,height:"11px",fontSize:"0.75em",visibility:"hidden",transition:"max-width 100ms cubic-bezier(0.0, 0, 0.2, 1) 50ms",whiteSpace:"nowrap"}}}}));n.Z=u},9361:function(e,n,t){t.r(n),t.d(n,{MyProfile:function(){return U},default:function(){return k}});var i=t(15861),r=t(29439),a=t(87757),l=t.n(a),s=t(72791),o=t(64554),c=t(61889),d=t(57621),u=t(39504),m=t(20890),f=t(36151),x=t(94070),h=t(61134),p=t(61265),j=t(60364),v=t(16871),Z=t(14651),E=t(7692),C=t(30408),g=t(62797),y=g.Ry().shape({name:g.Z_().nullable().required("Required field").max(255,"The maximum length is 255 characters")}).required(),b=t(5574),S=t(65661),N=t(39157),_=t(97123),P=t(94721),R=t(80184),D=(0,j.$j)((function(e){return{}}),{})((function(e){var n=e.handleClose,t=e.handleSubmit,i=e.isOpen,r=e.buttonLabel,a=e.title,l=e.children;return(0,R.jsxs)(b.Z,{disableEscapeKeyDown:!0,onClose:function(e,t){t&&"backdropClick"===t||n()},open:i,maxWidth:"sm",style:{minWidth:"30%"},fullWidth:!0,children:[(0,R.jsx)(S.Z,{id:"confirmation-dialog-title",className:"text-center",children:a}),(0,R.jsx)(P.Z,{style:{width:"93%"},className:"m-auto"}),(0,R.jsx)(N.Z,{children:l}),(0,R.jsx)(_.Z,{className:"justify-content-center mb-2",children:(0,R.jsx)(f.Z,{disableRipple:!0,onClick:t||n,autoFocus:!0,className:"w-50",variant:"contained",size:"medium",children:r})})]})})),T=t(13239),I=t(50611),O=t(57923),V={doSendCurrentEmailVerificationCode:I.YC,setErrorCodeConfirmData:O.zH,setErrorCodeSentData:O.Y_},w=(0,j.$j)((function(e){return{loggedInUser:e.core.loggedInUser,codeSentSuccess:e.userProfile.codeSentSuccess,errorCodeSentData:e.userProfile.errorCodeSentData}}),V)((function(e){var n,t=e.doSendCurrentEmailVerificationCode,i=e.setErrorCodeSentData,a=e.setErrorCodeConfirmData,l=e.handleClose,c=e.isOpen,d=e.loggedInUser,u=e.codeSentSuccess,x=e.errorCodeSentData,h=(0,v.s0)(),p=(0,s.useState)(!1),j=(0,r.Z)(p,2),Z=j[0],E=j[1],C=(0,s.useState)(null),g=(0,r.Z)(C,2),y=g[0],P=g[1];(0,s.useEffect)((function(){setTimeout((function(){x&&(E(!1),P(x))}),3e3)}),[x]),(0,s.useEffect)((function(){var e=setTimeout((function(){u?(l(),h("/dashboard/change-email")):E(!1)}),3e3);return function(){clearTimeout(e)}}),[u]);return(0,R.jsxs)(b.Z,{disableEscapeKeyDown:!0,onClose:function(e,n){n&&"backdropClick"===n||l()},open:c,fullWidth:!0,children:[(0,R.jsx)(S.Z,{children:"Email Verification"}),(0,R.jsxs)(N.Z,{children:[Z&&(0,R.jsxs)(o.Z,{className:"text-center",children:[(0,R.jsx)("div",{children:(0,R.jsx)(T.Z,{})}),(0,R.jsx)(m.Z,{variant:"body2",component:"div",color:"text.secondary",className:"mt-3",children:"Sending email..."})]}),!Z&&(0,R.jsxs)(m.Z,{variant:"body2",component:"div",color:"text.secondary",children:["Please verify your email before proceed to change email. Email account verification code to"," ",(0,R.jsx)(m.Z,{variant:"subtitle1",component:"span",children:(0,R.jsx)("b",{children:null===d||void 0===d||null===(n=d.customer)||void 0===n?void 0:n.email})}),"."]})]}),!Z&&(0,R.jsxs)(_.Z,{className:"justify-content-between m-2",children:[(0,R.jsx)(m.Z,{color:"error",variant:"caption",children:y}),(0,R.jsxs)(o.Z,{children:[(0,R.jsx)(f.Z,{disableRipple:!0,disableElevation:!0,onClick:l,autoFocus:!0,variant:"outlined",className:"mx-2",children:"Cancel"}),(0,R.jsx)(f.Z,{disableRipple:!0,disableElevation:!0,onClick:function(){i(null),a(null),t(),E(!0)},autoFocus:!0,variant:"contained",children:"Send Code"})]})]})]})})),U=function(e){var n,t,a,j,g,b=e.loggedInUser,S=e.success,N=e.fail,_=e.errorDetailData,P=e.errorresendVerificationEmail,T=e.doUpdateUserProfile,I=e.doResetUserProfile,O=e.doGetLoggedInUser,V=e.doResendVerificationEmail,U=e.setResendVerificationEmail,M=e.setCodeSentSuccess,k=e.setErrorCodeSentData,A=e.resendVerificationEmailSuccess,F=e.resendVerificationEmailFail,L=(0,v.s0)(),W=(0,h.cI)({defaultValues:{name:(null===b||void 0===b||null===(n=b.customer)||void 0===n?void 0:n.name)||"",phone_number:(null===b||void 0===b||null===(t=b.customer)||void 0===t?void 0:t.phone_number)||"",address:(null===b||void 0===b||null===(a=b.customer)||void 0===a?void 0:a.address)||""},resolver:(0,p.X)(y),mode:"all"}),z=W.control,Q=W.handleSubmit,q=W.trigger,K=(0,s.useState)(!1),$=(0,r.Z)(K,2),B=$[0],G=$[1],H=(0,s.useState)(!1),Y=(0,r.Z)(H,2),J=Y[0],X=Y[1],ee=(0,s.useState)(!1),ne=(0,r.Z)(ee,2),te=ne[0],ie=ne[1],re=(0,s.useState)(null),ae=(0,r.Z)(re,2),le=ae[0],se=ae[1];(0,s.useEffect)((function(){I(),M(!1),O(),U(!1),G(!1)}),[]),(0,s.useEffect)((function(){S&&(O(),I(),X(!0)),N&&se(_)}),[S,N]),(0,s.useEffect)((function(){_||se(null)}),[_]),(0,s.useEffect)((function(){A&&G(!0),F&&G(!0)}),[A,F]);var oe=function(){var e=(0,i.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:e.sent&&T({name:n.name,phone_number:n.phone_number,address:n.address});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,R.jsxs)(R.Fragment,{children:[A&&(0,R.jsx)(D,{title:"Resend Verification Email",buttonLabel:"OK",isOpen:B,handleClose:function(){U(!1),G(!B)},children:(0,R.jsxs)(o.Z,{children:[(0,R.jsx)(o.Z,{className:"d-flex justify-content-center mb-3",children:(0,R.jsx)(E.wRn,{color:"#4caf50",size:"5rem"})}),(0,R.jsx)(m.Z,{variant:"body2",className:"text-center",children:"Please check your inbox/junk mail for the verification email."})]})}),F&&(0,R.jsx)(D,{title:"Resend Verification Email",buttonLabel:"OK",isOpen:B,handleClose:function(){U(!1),G(!B)},children:(0,R.jsxs)(o.Z,{children:[(0,R.jsx)(o.Z,{className:"d-flex justify-content-center mb-3",children:(0,R.jsx)(Z.$Vt,{color:"#ef5350",size:"5rem"})}),(0,R.jsx)(m.Z,{variant:"body2",className:"text-center",children:P})]})}),J&&(0,R.jsx)(D,{title:"Profile Updated.",buttonLabel:"OK",isOpen:J,handleClose:function(){return X(!J)}}),te&&(0,R.jsx)(w,{isOpen:te,handleClose:function(){return ie(!te)}}),(0,R.jsx)(o.Z,{children:(0,R.jsx)(d.Z,{variant:"outlined",children:(0,R.jsxs)(u.Z,{children:[!(null!==b&&void 0!==b&&null!==(j=b.customer)&&void 0!==j&&j.is_verify)&&(0,R.jsxs)(x.Z,{severity:"warning",className:"mb-3 d-flex justify-content-start",children:[(0,R.jsx)(m.Z,{variant:"caption",children:"Please verify your email."}),(0,R.jsx)(f.Z,{disableElevation:!0,disableFocusRipple:!0,color:"warning",size:"small",variant:"text",onClick:function(){V()},children:(0,R.jsx)(m.Z,{variant:"caption",children:"Resend Verification Email"})})]}),(0,R.jsx)(o.Z,{className:"d-flex justify-content-between mb-3",children:(0,R.jsx)(m.Z,{variant:"h6",children:"My Profile"})}),(0,R.jsxs)(c.ZP,{container:!0,columns:{xs:1,lg:12},children:[(0,R.jsx)(c.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(c.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(m.Z,{variant:"caption",color:"text.secondary",children:"Full Name"})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsx)(C.Z,{control:z,name:"name",label:""})})]})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(c.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(m.Z,{variant:"caption",color:"text.secondary",children:"Phone Number"})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsx)(C.Z,{control:z,name:"phone_number",label:""})})]})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(c.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(m.Z,{variant:"caption",color:"text.secondary",children:"Address"})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsx)(C.Z,{control:z,name:"address",label:""})})]})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,lg:12,className:"pt-0 mb-3",children:(0,R.jsxs)(c.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(m.Z,{variant:"caption",color:"text.secondary",children:"Email"})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,R.jsx)(m.Z,{variant:"body2",style:{paddingRight:"0px"},children:null===b||void 0===b||null===(g=b.customer)||void 0===g?void 0:g.email}),(0,R.jsx)(f.Z,{disableRipple:!0,style:{textDecoration:"underline",padding:"0px 0px"},onClick:function(){k(null),ie(!0)},variant:"text",size:"small",children:"Change"})]})})]})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(c.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(m.Z,{variant:"caption",color:"text.secondary",children:"Password"})}),(0,R.jsx)(c.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,R.jsx)(m.Z,{variant:"body2",style:{paddingRight:"0px"},children:"********"}),(0,R.jsx)(f.Z,{disableRipple:!0,style:{textDecoration:"underline",padding:"0px 0px"},onClick:function(){L("/dashboard/change-password")},variant:"text",size:"small",children:"Change"})]})})]})})]}),(0,R.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,R.jsx)(m.Z,{variant:"subtitle2",color:"error",component:"div",className:"my-auto",children:null===le||void 0===le?void 0:le.errorMessage}),(0,R.jsx)(f.Z,{disableElevation:!0,variant:"contained",onClick:Q(oe),children:"Save"})]})]})})})]})},M={doUpdateUserProfile:I.Vb,doResetUserProfile:I.$s,doGetLoggedInUser:I.Bq,doResendVerificationEmail:I.GK,setCodeSentSuccess:O.T4,setErrorCodeSentData:O.Y_,setResendVerificationEmail:O.RZ},k=(0,j.$j)((function(e){return{loggedInUser:e.core.loggedInUser,success:e.userProfile.success,fail:e.userProfile.fail,errorDetailData:e.userProfile.errorDetailData,resendVerificationEmailSuccess:e.userProfile.resendVerificationEmailSuccess,resendVerificationEmailFail:e.userProfile.resendVerificationEmailFail,errorresendVerificationEmail:e.userProfile.errorresendVerificationEmail}}),M)(U)},77201:function(e,n,t){t.d(n,{Du:function(){return x},Jz:function(){return p},Ny:function(){return f},eO:function(){return m},hu:function(){return h},sm:function(){return u}});var i=t(1413),r=t(45987),a=t(72791),l=t(30948),s=t(24805),o=(t(60173),t(80184)),c=["onChange","name"],d=["onChange","name"],u=a.forwardRef((function(e,n){var t=e.onChange,a=e.name,s=(0,r.Z)(e,c);return(0,o.jsx)(l.Z,(0,i.Z)((0,i.Z)({},s),{},{allowLeadingZeros:!0,allowNegative:!1,decimalSeparator:!1,getInputRef:n,onValueChange:function(e){t({target:{name:a,value:e.value}})}}))})),m=a.forwardRef((function(e,n){var t=e.onChange,a=e.name,s=(0,r.Z)(e,d);return(0,o.jsx)(l.Z,(0,i.Z)((0,i.Z)({},s),{},{allowNegative:!1,getInputRef:n,onValueChange:function(e){t({target:{name:a,value:e.value}})}}))})),f=function(e){var n=e.children;return(0,s.useMediaQuery)({minWidth:992})?n:null},x=function(e){var n=e.children;return(0,s.useMediaQuery)({minWidth:768,maxWidth:991})?n:null},h=function(e){var n=e.children,t=(0,s.useMediaQuery)({maxWidth:767}),i=(0,s.useMediaQuery)({orientation:"portrait"});return console.log("[MobilePortraitView]","[isPortrait]",i,"[isMobile]",t),t?n:null},p=function(e){var n=e.children,t=(0,s.useMediaQuery)({maxWidth:767}),i=(0,s.useMediaQuery)({query:"(orientation: landscape)"});return t&&i?n:null}}}]);
//# sourceMappingURL=9361.13a29e19.chunk.js.map