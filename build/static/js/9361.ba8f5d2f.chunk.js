"use strict";(self.webpackChunkreact_travelpa_admin=self.webpackChunkreact_travelpa_admin||[]).push([[9361],{57923:function(e,n,t){t.d(n,{Qy:function(){return m},Qz:function(){return f},RZ:function(){return j},T4:function(){return h},Tf:function(){return a},Ud:function(){return s},Y_:function(){return p},bD:function(){return x},cn:function(){return u},fC:function(){return l},ic:function(){return c},sd:function(){return o},zH:function(){return d}});var r=t(71653),i=t.n(r),a=function(e){return{type:i().SET_INSURANCE_DETAILS,payload:e}},s=function(e){return{type:i().SET_SELECTED_INSURANCE,payload:e}},l=function(e){return{type:i().SET_INSURANCE_RATE_DETAILS,payload:e}},o=function(e){return{type:i().SET_WATCH_INSURANCE_COVERAGE,payload:e}},c=function(e){return{type:i().SET_IS_SPOUSE,payload:e}},d=function(e){return{type:i().SET_ERROR_CODE_CONFIRM_DATA,payload:e}},u=function(e){return{type:i().SET_CODE_CONFIRM_SUCCESS,payload:e}},m=function(e){return{type:i().SET_ERROR_NEW_CODE_CONFIRM_DATA,payload:e}},f=function(e){return{type:i().SET_NEW_CODE_CONFIRM_SUCCESS,payload:e}},x=function(e){return{type:i().SET_NEW_CODE_SENT_SUCCESS,payload:e}},h=function(e){return{type:i().SET_CODE_SENT_SUCCESS,payload:e}},p=function(e){return{type:i().SET_ERROR_CODE_SENT_DATA,payload:e}},j=function(e){return{type:i().SET_RESEND_EMAIL_VERIFICATION,payload:e}}},30408:function(e,n,t){var r=t(1413),i=t(45987),a=(t(72791),t(60277)),s=t(59911),l=t(61134),o=t(77201),c=t(80184),d=["control","name","label","defaultValue","number","onBlur","leadingZeros"],u=(0,a.ZP)((function(e){var n=e.control,t=e.name,a=e.label,u=e.defaultValue,m=e.number,f=e.onBlur,x=e.leadingZeros,h=(0,i.Z)(e,d);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.Qr,{control:n,name:t,defaultValue:u||"",render:function(e){var n=e.field,t=n.onChange,i=n.value,l=e.fieldState,d=l.invalid,u=l.error;return(0,c.jsx)(s.Z,(0,r.Z)({required:!0,fullWidth:!0,label:a,size:"small",onChange:t,onBlur:f,value:i,error:d,helperText:(null===u||void 0===u?void 0:u.message)||" ",autoComplete:"no",InputLabelProps:{style:{color:"#CCCCCC"}},InputProps:{autoComplete:"off",form:{autocomplete:"off"},inputComponent:m?x?o.sm:o.eO:null},FormHelperTextProps:{className:"mt-0"}},h))}})})}))((function(e){e.theme;return{".MuiInputLabel-root.Mui-error":{color:"rgb(239, 83, 80) !important"},".MuiInputLabel-shrink.Mui-focused.Mui-error":{color:"rgb(239, 83, 80) !important"},".MuiInputLabel-shrink.Mui-focused":{color:"#009C99 !important"},".MuiOutlinedInput-notchedOutline":{transition:"0.3s",legend:{float:"unset",overflow:"hidden",display:"block",width:"auto",padding:0,height:"11px",fontSize:"0.75em",visibility:"hidden",transition:"max-width 100ms cubic-bezier(0.0, 0, 0.2, 1) 50ms",whiteSpace:"nowrap"}}}}));n.Z=u},9361:function(e,n,t){t.r(n),t.d(n,{MyProfile:function(){return w},default:function(){return M}});var r=t(74165),i=t(15861),a=t(29439),s=t(72791),l=t(96015),o=t(45953),c=t(48928),d=t(55194),u=t(4565),m=t(17205),f=t(8771),x=t(61134),h=t(44695),p=t(60364),j=t(57689),Z=t(14651),v=t(7692),E=t(30408),C=t(62797),g=C.Ry().shape({name:C.Z_().nullable().required("Required field").max(255,"The maximum length is 255 characters")}).required(),y=t(58195),S=t(40464),b=t(8440),N=t(77248),_=t(81872),R=t(80184),P=(0,p.$j)((function(e){return{}}),{})((function(e){var n=e.handleClose,t=e.handleSubmit,r=e.isOpen,i=e.buttonLabel,a=e.title,s=e.children;return(0,R.jsxs)(y.Z,{disableEscapeKeyDown:!0,onClose:function(e,t){t&&"backdropClick"===t||n()},open:r,maxWidth:"sm",style:{minWidth:"30%"},fullWidth:!0,children:[(0,R.jsx)(S.Z,{id:"confirmation-dialog-title",className:"text-center",children:a}),(0,R.jsx)(_.Z,{style:{width:"93%"},className:"m-auto"}),(0,R.jsx)(b.Z,{children:s}),(0,R.jsx)(N.Z,{className:"justify-content-center mb-2",children:(0,R.jsx)(m.Z,{disableRipple:!0,onClick:t||n,autoFocus:!0,className:"w-50",variant:"contained",size:"medium",children:i})})]})})),D=t(96580),T=t(50611),I=t(57923),O={doSendCurrentEmailVerificationCode:T.YC,setErrorCodeConfirmData:I.zH,setErrorCodeSentData:I.Y_},V=(0,p.$j)((function(e){return{loggedInUser:e.core.loggedInUser,codeSentSuccess:e.userProfile.codeSentSuccess,errorCodeSentData:e.userProfile.errorCodeSentData}}),O)((function(e){var n,t=e.doSendCurrentEmailVerificationCode,r=e.setErrorCodeSentData,i=e.setErrorCodeConfirmData,o=e.handleClose,c=e.isOpen,d=e.loggedInUser,f=e.codeSentSuccess,x=e.errorCodeSentData,h=(0,j.s0)(),p=(0,s.useState)(!1),Z=(0,a.Z)(p,2),v=Z[0],E=Z[1],C=(0,s.useState)(null),g=(0,a.Z)(C,2),_=g[0],P=g[1];(0,s.useEffect)((function(){setTimeout((function(){x&&(E(!1),P(x))}),3e3)}),[x]),(0,s.useEffect)((function(){var e=setTimeout((function(){f?(o(),h("/dashboard/change-email")):E(!1)}),3e3);return function(){clearTimeout(e)}}),[f]);return(0,R.jsxs)(y.Z,{disableEscapeKeyDown:!0,onClose:function(e,n){n&&"backdropClick"===n||o()},open:c,fullWidth:!0,children:[(0,R.jsx)(S.Z,{children:"Email Verification"}),(0,R.jsxs)(b.Z,{children:[v&&(0,R.jsxs)(l.Z,{className:"text-center",children:[(0,R.jsx)("div",{children:(0,R.jsx)(D.Z,{})}),(0,R.jsx)(u.Z,{variant:"body2",component:"div",color:"text.secondary",className:"mt-3",children:"Sending email..."})]}),!v&&(0,R.jsxs)(u.Z,{variant:"body2",component:"div",color:"text.secondary",children:["Please verify your email before proceed to change email. Email account verification code to"," ",(0,R.jsx)(u.Z,{variant:"subtitle1",component:"span",children:(0,R.jsx)("b",{children:null===d||void 0===d||null===(n=d.customer)||void 0===n?void 0:n.email})}),"."]})]}),!v&&(0,R.jsxs)(N.Z,{className:"justify-content-between m-2",children:[(0,R.jsx)(u.Z,{color:"error",variant:"caption",children:_}),(0,R.jsxs)(l.Z,{children:[(0,R.jsx)(m.Z,{disableRipple:!0,disableElevation:!0,onClick:o,autoFocus:!0,variant:"outlined",className:"mx-2",children:"Cancel"}),(0,R.jsx)(m.Z,{disableRipple:!0,disableElevation:!0,onClick:function(){r(null),i(null),t(),E(!0)},autoFocus:!0,variant:"contained",children:"Send Code"})]})]})]})})),w=function(e){var n,t,p,C,y,S=e.loggedInUser,b=e.success,N=e.fail,_=e.errorDetailData,D=e.errorresendVerificationEmail,T=e.doUpdateUserProfile,I=e.doResetUserProfile,O=e.doGetLoggedInUser,w=e.doResendVerificationEmail,U=e.setResendVerificationEmail,M=e.setCodeSentSuccess,k=e.setErrorCodeSentData,A=e.resendVerificationEmailSuccess,F=e.resendVerificationEmailFail,L=(0,j.s0)(),W=(0,x.cI)({defaultValues:{name:(null===S||void 0===S||null===(n=S.customer)||void 0===n?void 0:n.name)||"",phone_number:(null===S||void 0===S||null===(t=S.customer)||void 0===t?void 0:t.phone_number)||"",address:(null===S||void 0===S||null===(p=S.customer)||void 0===p?void 0:p.address)||""},resolver:(0,h.X)(g),mode:"all"}),z=W.control,Q=W.handleSubmit,q=W.trigger,K=(0,s.useState)(!1),$=(0,a.Z)(K,2),B=$[0],G=$[1],H=(0,s.useState)(!1),Y=(0,a.Z)(H,2),J=Y[0],X=Y[1],ee=(0,s.useState)(!1),ne=(0,a.Z)(ee,2),te=ne[0],re=ne[1],ie=(0,s.useState)(null),ae=(0,a.Z)(ie,2),se=ae[0],le=ae[1];(0,s.useEffect)((function(){I(),M(!1),O(),U(!1),G(!1)}),[]),(0,s.useEffect)((function(){b&&(O(),I(),X(!0)),N&&le(_)}),[b,N]),(0,s.useEffect)((function(){_||le(null)}),[_]),(0,s.useEffect)((function(){A&&G(!0),F&&G(!0)}),[A,F]);var oe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:e.sent&&T({name:n.name,phone_number:n.phone_number,address:n.address});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,R.jsxs)(R.Fragment,{children:[A&&(0,R.jsx)(P,{title:"Resend Verification Email",buttonLabel:"OK",isOpen:B,handleClose:function(){U(!1),G(!B)},children:(0,R.jsxs)(l.Z,{children:[(0,R.jsx)(l.Z,{className:"d-flex justify-content-center mb-3",children:(0,R.jsx)(v.wRn,{color:"#4caf50",size:"5rem"})}),(0,R.jsx)(u.Z,{variant:"body2",className:"text-center",children:"Please check your inbox/junk mail for the verification email."})]})}),F&&(0,R.jsx)(P,{title:"Resend Verification Email",buttonLabel:"OK",isOpen:B,handleClose:function(){U(!1),G(!B)},children:(0,R.jsxs)(l.Z,{children:[(0,R.jsx)(l.Z,{className:"d-flex justify-content-center mb-3",children:(0,R.jsx)(Z.$Vt,{color:"#ef5350",size:"5rem"})}),(0,R.jsx)(u.Z,{variant:"body2",className:"text-center",children:D})]})}),J&&(0,R.jsx)(P,{title:"Profile Updated.",buttonLabel:"OK",isOpen:J,handleClose:function(){return X(!J)}}),te&&(0,R.jsx)(V,{isOpen:te,handleClose:function(){return re(!te)}}),(0,R.jsx)(l.Z,{children:(0,R.jsx)(c.Z,{variant:"outlined",children:(0,R.jsxs)(d.Z,{children:[!(null!==S&&void 0!==S&&null!==(C=S.customer)&&void 0!==C&&C.is_verify)&&(0,R.jsxs)(f.Z,{severity:"warning",className:"mb-3 d-flex justify-content-start",children:[(0,R.jsx)(u.Z,{variant:"caption",children:"Please verify your email."}),(0,R.jsx)(m.Z,{disableElevation:!0,disableFocusRipple:!0,color:"warning",size:"small",variant:"text",onClick:function(){w()},children:(0,R.jsx)(u.Z,{variant:"caption",children:"Resend Verification Email"})})]}),(0,R.jsx)(l.Z,{className:"d-flex justify-content-between mb-3",children:(0,R.jsx)(u.Z,{variant:"h6",children:"My Profile"})}),(0,R.jsxs)(o.ZP,{container:!0,columns:{xs:1,lg:12},children:[(0,R.jsx)(o.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(o.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:"Full Name"})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsx)(E.Z,{control:z,name:"name",label:""})})]})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(o.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:"Phone Number"})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsx)(E.Z,{control:z,name:"phone_number",label:""})})]})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(o.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:"Address"})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsx)(E.Z,{control:z,name:"address",label:""})})]})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,lg:12,className:"pt-0 mb-3",children:(0,R.jsxs)(o.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:"Email"})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,R.jsx)(u.Z,{variant:"body2",style:{paddingRight:"0px"},children:null===S||void 0===S||null===(y=S.customer)||void 0===y?void 0:y.email}),(0,R.jsx)(m.Z,{disableRipple:!0,style:{textDecoration:"underline",padding:"0px 0px"},onClick:function(){k(null),re(!0)},variant:"text",size:"small",children:"Change"})]})})]})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,lg:12,className:"pt-0",children:(0,R.jsxs)(o.ZP,{container:!0,columns:{xs:1,sm:1,md:12,lg:12},children:[(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:1.5,lg:1.5,className:"pt-0",children:(0,R.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:"Password"})}),(0,R.jsx)(o.ZP,{item:!0,xs:1,sm:1,md:4.5,lg:4.5,className:"pt-0",children:(0,R.jsxs)("div",{className:"d-flex justify-content-start",children:[(0,R.jsx)(u.Z,{variant:"body2",style:{paddingRight:"0px"},children:"********"}),(0,R.jsx)(m.Z,{disableRipple:!0,style:{textDecoration:"underline",padding:"0px 0px"},onClick:function(){L("/dashboard/change-password")},variant:"text",size:"small",children:"Change"})]})})]})})]}),(0,R.jsxs)(l.Z,{className:"d-flex justify-content-between",children:[(0,R.jsx)(u.Z,{variant:"subtitle2",color:"error",component:"div",className:"my-auto",children:null===se||void 0===se?void 0:se.errorMessage}),(0,R.jsx)(m.Z,{disableElevation:!0,variant:"contained",onClick:Q(oe),children:"Save"})]})]})})})]})},U={doUpdateUserProfile:T.Vb,doResetUserProfile:T.$s,doGetLoggedInUser:T.Bq,doResendVerificationEmail:T.GK,setCodeSentSuccess:I.T4,setErrorCodeSentData:I.Y_,setResendVerificationEmail:I.RZ},M=(0,p.$j)((function(e){return{loggedInUser:e.core.loggedInUser,success:e.userProfile.success,fail:e.userProfile.fail,errorDetailData:e.userProfile.errorDetailData,resendVerificationEmailSuccess:e.userProfile.resendVerificationEmailSuccess,resendVerificationEmailFail:e.userProfile.resendVerificationEmailFail,errorresendVerificationEmail:e.userProfile.errorresendVerificationEmail}}),U)(w)},77201:function(e,n,t){t.d(n,{Du:function(){return x},Jz:function(){return p},Ny:function(){return f},eO:function(){return m},hu:function(){return h},sm:function(){return u}});var r=t(1413),i=t(45987),a=t(72791),s=t(30948),l=t(24805),o=t(80184),c=["onChange","name"],d=["onChange","name"],u=a.forwardRef((function(e,n){var t=e.onChange,a=e.name,l=(0,i.Z)(e,c);return(0,o.jsx)(s.Z,(0,r.Z)((0,r.Z)({},l),{},{allowLeadingZeros:!0,allowNegative:!1,decimalSeparator:!1,getInputRef:n,onValueChange:function(e){t({target:{name:a,value:e.value}})}}))})),m=a.forwardRef((function(e,n){var t=e.onChange,a=e.name,l=(0,i.Z)(e,d);return(0,o.jsx)(s.Z,(0,r.Z)((0,r.Z)({},l),{},{allowNegative:!1,getInputRef:n,onValueChange:function(e){t({target:{name:a,value:e.value}})}}))})),f=function(e){var n=e.children;return(0,l.useMediaQuery)({minWidth:992})?n:null},x=function(e){var n=e.children;return(0,l.useMediaQuery)({minWidth:768,maxWidth:991})?n:null},h=function(e){var n=e.children,t=(0,l.useMediaQuery)({maxWidth:767});(0,l.useMediaQuery)({orientation:"portrait"});return t?n:null},p=function(e){var n=e.children,t=(0,l.useMediaQuery)({maxWidth:767}),r=(0,l.useMediaQuery)({query:"(orientation: landscape)"});return t&&r?n:null}}}]);
//# sourceMappingURL=9361.ba8f5d2f.chunk.js.map